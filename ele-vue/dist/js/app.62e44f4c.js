(function(t){function s(s){for(var i,o,r=s[0],c=s[1],l=s[2],u=0,v=[];u<r.length;u++)o=r[u],a[o]&&v.push(a[o][0]),a[o]=0;for(i in c)Object.prototype.hasOwnProperty.call(c,i)&&(t[i]=c[i]);d&&d(s);while(v.length)v.shift()();return n.push.apply(n,l||[]),e()}function e(){for(var t,s=0;s<n.length;s++){for(var e=n[s],i=!0,r=1;r<e.length;r++){var c=e[r];0!==a[c]&&(i=!1)}i&&(n.splice(s--,1),t=o(o.s=e[0]))}return t}var i={},a={app:0},n=[];function o(s){if(i[s])return i[s].exports;var e=i[s]={i:s,l:!1,exports:{}};return t[s].call(e.exports,e,e.exports,o),e.l=!0,e.exports}o.m=t,o.c=i,o.d=function(t,s,e){o.o(t,s)||Object.defineProperty(t,s,{enumerable:!0,get:e})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,s){if(1&s&&(t=o(t)),8&s)return t;if(4&s&&"object"===typeof t&&t&&t.__esModule)return t;var e=Object.create(null);if(o.r(e),Object.defineProperty(e,"default",{enumerable:!0,value:t}),2&s&&"string"!=typeof t)for(var i in t)o.d(e,i,function(s){return t[s]}.bind(null,i));return e},o.n=function(t){var s=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(s,"a",s),s},o.o=function(t,s){return Object.prototype.hasOwnProperty.call(t,s)},o.p="/";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],c=r.push.bind(r);r.push=s,r=r.slice();for(var l=0;l<r.length;l++)s(r[l]);var d=c;n.push([0,"chunk-vendors"]),e()})({0:function(t,s,e){t.exports=e("56d7")},"0361":function(t,s,e){},"0e19":function(t,s,e){},1:function(t,s){},"3dec":function(t,s,e){},"521a":function(t,s,e){"use strict";var i=e("8d1d"),a=e.n(i);a.a},5354:function(t,s,e){},"56d7":function(t,s,e){"use strict";e.r(s);e("cadf"),e("551c"),e("f751"),e("097d");var i=e("2b0e"),a=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{attrs:{id:"app"}},[e("v-header",{attrs:{seller:t.seller}}),e("div",{staticClass:"tab border-1px"},[e("router-link",{staticClass:"tab-item",attrs:{tag:"div",to:"/goods"}},[t._v("商品")]),e("router-link",{staticClass:"tab-item",attrs:{tag:"div",to:"/ratings"}},[t._v("评价")]),e("router-link",{staticClass:"tab-item",attrs:{tag:"div",to:"/seller"}},[t._v("商家")])],1),e("div",{staticClass:"content"},[e("keep-alive",[e("router-view",{attrs:{seller:t.seller}})],1)],1)],1)},n=[],o=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"header"},[e("div",{staticClass:"content-wrapper"},[e("div",{staticClass:"avatar"},[e("img",{attrs:{src:t.seller.avatar}})]),e("div",{staticClass:"content"},[e("div",{staticClass:"title"},[e("span",{staticClass:"brand"}),e("span",{staticClass:"name"},[t._v(t._s(t.seller.name))])]),e("div",{staticClass:"description"},[t._v(t._s(t.seller.description)+"/"+t._s(t.seller.deliveryTime)+"分钟必达")]),t.seller.supports?e("v-support",{attrs:{size:1,text:t.seller.supports[0].description,type:t.seller.supports[0].type}}):t._e()],1),t.seller.supports?e("div",{staticClass:"support-count",on:{click:t.showDetail}},[e("span",[t._v(t._s(t.seller.supports.length)+"个")]),e("i",{staticClass:"icon-keyboard_arrow_right"})]):t._e()]),e("div",{staticClass:"bulletin-wrapper"},[e("span",{staticClass:"bulletin-title"}),e("span",{staticClass:"bulletin-text"},[t._v(t._s(t.seller.bulletin))]),e("i",{staticClass:"icon-keyboard_arrow_right",on:{click:t.showDetail}})]),e("div",{staticClass:"background"},[e("img",{attrs:{src:t.seller.avatar}})]),e("transition",{attrs:{name:"fade"}},[e("div",{directives:[{name:"show",rawName:"v-show",value:t.detailShow,expression:"detailShow"}],staticClass:"detail"},[e("v-detail",{attrs:{name:t.seller.name,score:t.seller.score,supports:t.seller.supports,bulletin:t.seller.bulletin}}),e("div",{staticClass:"detail-close",on:{click:t.showDetail}},[e("i",{staticClass:"icon-close"})])],1)])],1)},r=[],c=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"detail-wrapper clearfix"},[e("div",{staticClass:"detail-container"},[e("div",{staticClass:"wrapper-title"},[e("div",{staticClass:"name"},[t._v(t._s(t.name))]),e("v-star",{attrs:{score:t.score,size:48}})],1),t.supports?e("div",{staticClass:"supports"},[t._m(0),e("div",{staticClass:"content"},t._l(t.supports,function(t,s){return e("v-support",{key:s,attrs:{size:2,text:t.description,type:t.type}})}),1)]):t._e(),t.bulletin?e("div",{staticClass:"bulletin"},[t._m(1),e("div",{staticClass:"content"},[t._v(t._s(t.bulletin))])]):t._e()])])},l=[function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"title"},[e("div",{staticClass:"line"}),e("span",{staticClass:"text"},[t._v("优惠信息")]),e("div",{staticClass:"line"})])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"title"},[e("div",{staticClass:"line"}),e("span",{staticClass:"text"},[t._v("商家公告")]),e("div",{staticClass:"line"})])}],d=(e("c5f6"),function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"stars",class:t.starType},t._l(t.starArray,function(t,s){return e("span",{key:s,staticClass:"star",class:t})}),0)}),u=[],v={props:{size:Number,score:Number},computed:{starType:function(){return"star-"+this.size},starArray:function(){for(var t=Math.floor(2*this.score)/2,s="on",e="half",i="off",a=[],n=t%1!==0,o=0;o<Math.floor(t);o++)a[o]=s;n&&a.push(e);while(a.length<5)a.push(i);return a}}},p=v,f=(e("5cdc"),e("2877")),h=Object(f["a"])(p,d,u,!1,null,null,null),C=h.exports,m=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"support",class:t.supportType},[e("span",{directives:[{name:"show",rawName:"v-show",value:t.type>=0,expression:"type>=0"}],staticClass:"icon",class:t.classMap[t.type]}),e("span",{staticClass:"text"},[t._v(t._s(t.text))])])},_=[],g={data:function(){return{classMap:["decrease","discount","special","invoice","guarantee"]}},props:{type:Number,text:String,size:Number},computed:{supportType:function(){return"support-"+this.size}}},w=g,y=(e("a05c"),Object(f["a"])(w,m,_,!1,null,null,null)),b=y.exports,x={props:{name:String,score:Number,supports:Array,bulletin:String},components:{"v-star":C,"v-support":b}},k=x,T=(e("743c"),Object(f["a"])(k,c,l,!1,null,null,null)),S=T.exports,$={data:function(){return{classMap:["decrease","discount","guarantee","invoice","special"],detailShow:!1}},props:{seller:{type:Object}},methods:{showDetail:function(){this.detailShow=!this.detailShow}},components:{"v-detail":S,"v-support":b}},O=$,P=(e("521a"),Object(f["a"])(O,o,r,!1,null,null,null)),j=P.exports,N={data:function(){return{seller:{}}},created:function(){this.get()},methods:{get:function(){var t=this;this.$http.get("/api/seller").then(function(s){t.seller=s.body},function(){console.log("获取商家数据失败")})}},components:{"v-header":j}},E=N,M=(e("e936"),Object(f["a"])(E,a,n,!1,null,null,null)),F=M.exports,D=e("8c4f"),z=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{ref:"seller",staticClass:"seller"},[e("div",[e("div",{staticClass:"desc"},[e("div",{staticClass:"desc-header border-1px"},[e("div",{staticClass:"title"},[t._v(t._s(t.seller.name))]),e("div",{staticClass:"score"},[e("v-star",{attrs:{size:36,score:t.seller.score}}),e("span",{staticClass:"num"},[t._v("("+t._s(t.seller.ratingCount)+")")]),e("span",{staticClass:"sellCount"},[t._v("月售"+t._s(t.seller.sellCount)+"单")])],1),e("div",{staticClass:"collect-container",class:{active:t.collect},on:{click:t.sellerCollect}},[e("i",{staticClass:"icon-favorite"}),e("span",{staticClass:"text"},[t._v(t._s(t.collectDesc))])])]),e("div",{staticClass:"delivery"},[e("div",{staticClass:"item border-right-1px"},[e("div",{staticClass:"title"},[t._v("起送价")]),e("div",{staticClass:"content"},[e("span",{staticClass:"num"},[t._v(t._s(t.seller.minPrice))]),t._v("元\n          ")])]),e("div",{staticClass:"item border-right-1px"},[e("div",{staticClass:"title"},[t._v("商家配送")]),e("div",{staticClass:"content"},[e("span",{staticClass:"num"},[t._v(t._s(t.seller.deliveryPrice))]),t._v("元\n          ")])]),e("div",{staticClass:"item border-right-1px"},[e("div",{staticClass:"title"},[t._v("平均配送时间")]),e("div",{staticClass:"content"},[e("span",{staticClass:"num"},[t._v(t._s(t.seller.deliveryTime))]),t._v("元\n          ")])])])]),e("v-split"),e("div",{staticClass:"bulletin-supports"},[e("div",{staticClass:"bulletin border-1px"},[e("div",{staticClass:"title"},[t._v("公告与活动")]),e("div",{staticClass:"content"},[t._v(t._s(t.seller.bulletin))])]),e("div",{staticClass:"supports"},t._l(t.seller.supports,function(t,s){return e("v-support",{key:s,staticClass:"border-1px",attrs:{size:4,text:t.description,type:t.type}})}),1)]),e("v-split"),e("div",{staticClass:"pics"},[e("div",{staticClass:"title"},[t._v("商家实景")]),e("div",{ref:"pics",staticClass:"pics-container"},[e("div",{ref:"picsInner",staticClass:"picsInner"},t._l(t.seller.pics,function(t,s){return e("img",{key:s,staticClass:"pics-item",attrs:{src:t}})}),0)])]),e("v-split"),e("div",{staticClass:"infos"},[e("div",{staticClass:"title border-1px"},[t._v("商家信息")]),e("div",{staticClass:"infos-container"},t._l(t.seller.infos,function(s,i){return e("div",{key:i,staticClass:"infos-item border-1px"},[t._v(t._s(s))])}),0)])],1)])},H=[],W=e("1fba"),A=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"split"})},I=[],Y={data:function(){return{}}},R=Y,B=(e("6a54"),Object(f["a"])(R,A,I,!1,null,null,null)),J=B.exports,L={props:{seller:Object},data:function(){return{collect:!1}},created:function(){var t=this;this.$nextTick(function(){var s=0;t.seller.pics&&(s=126*t.seller.pics.length-6,t.$refs.picsInner.style.width=s+"px"),t.sellerScroll=new W["a"](t.$refs.seller,{click:!0}),t.picsScroll=new W["a"](t.$refs.pics,{scrollX:!0,evnetPassthrough:"vertical"})})},methods:{sellerCollect:function(){this.collect,this.collect=!this.collect}},computed:{collectDesc:function(){return this.collect?"已收藏":"收藏"}},components:{"v-star":C,"v-support":b,"v-split":J}},X=L,q=(e("8916"),Object(f["a"])(X,z,H,!1,null,null,null)),G=q.exports,K=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"goods"},[e("div",{ref:"menuWrapper",staticClass:"menu-wrapper"},[e("div",t._l(t.goods,function(s,i){return e("div",{key:i,staticClass:"name",class:{current:t.currentIndex==i},on:{click:function(s){return t.selectMenu(i,s)}}},[e("v-support",{staticClass:"border-1px",attrs:{size:3,text:s.name,type:s.type}})],1)}),0)]),e("div",{ref:"foodsWrapper",staticClass:"foods-wrapper"},[e("div",t._l(t.goods,function(s,i){return e("div",{key:i,staticClass:"food-list food-list-hook"},[e("div",{staticClass:"name"},[t._v(t._s(s.name))]),t._l(s.foods,function(s,i){return e("div",{key:i,staticClass:"food-item border-1px border-none",on:{click:function(e){return t.showFood(s)}}},[e("img",{staticClass:"icon",attrs:{src:s.icon}}),e("div",{staticClass:"content"},[e("div",{staticClass:"food-name"},[t._v(t._s(s.name))]),e("div",{directives:[{name:"show",rawName:"v-show",value:s.description,expression:"food.description"}],staticClass:"description"},[t._v(t._s(s.description))]),e("div",{staticClass:"extra"},[e("span",{staticClass:"sellCount"},[t._v("月售"+t._s(s.sellCount)+"份")]),e("span",{staticClass:"rating"},[t._v("好评率"+t._s(s.rating)+"%")])]),e("div",{staticClass:"price"},[e("span",{staticClass:"mark"},[t._v("¥")]),e("span",{staticClass:"nowPrice"},[t._v(t._s(s.price))]),e("span",{directives:[{name:"show",rawName:"v-show",value:s.oldPrice,expression:"food.oldPrice"}],staticClass:"oldPrice"},[t._v("¥"+t._s(s.oldPrice))])])]),e("v-cartcontrol",{staticClass:"cartcontrol",attrs:{food:s},on:{decrease:t.decrease,add:t.add,ballDrop:t.ballDrop}})],1)})],2)}),0)]),e("v-shopcart",{ref:"shopcart",attrs:{deliveryPrice:t.seller.deliveryPrice,minPrice:t.seller.minPrice,selectedFoods:t.selectedFoods},on:{clear:t.clear,add:t.add,decrease:t.decrease}}),e("v-food",{ref:"food",attrs:{food:t.choosedFood},on:{add:t.add,decrease:t.decrease}})],1)},Q=[],U=(e("ac6a"),function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",[e("div",{staticClass:"shopcart"},[e("transition",{attrs:{name:"fold"}},[e("div",{directives:[{name:"show",rawName:"v-show",value:t.isShowCart,expression:"isShowCart"}],staticClass:"selectedFoods"},[e("div",{staticClass:"head"},[e("span",{staticClass:"cart"},[t._v("购物车")]),e("span",{staticClass:"clear",on:{click:t.clear}},[t._v("清空")])]),e("div",{ref:"foodsScroll",staticClass:"foods"},[e("div",{staticClass:"wrapper"},t._l(t.selectedFoods,function(s,i){return e("div",{key:i,staticClass:"item border-1px "},[e("span",{staticClass:"name"},[t._v(t._s(s.name))]),e("span",{staticClass:"extra"},[e("span",{staticClass:"price"},[t._v("¥ "+t._s(s.price*s.count))]),e("v-cartcontrol",{attrs:{food:s},on:{decrease:t.decrease,add:t.add}})],1)])}),0)])])]),e("div",{staticClass:"content",on:{click:t.showCart}},[e("div",{staticClass:"content-left"},[e("div",{staticClass:"logo-wrapper",class:{haveSeleced:t.totalCount>0}},[e("div",{staticClass:"icon-shopping_cart"}),e("div",{directives:[{name:"show",rawName:"v-show",value:t.totalCount>0,expression:"totalCount>0"}],staticClass:"totalCount"},[t._v(t._s(t.totalCount))])]),e("div",{staticClass:"price",class:{haveSeleced:t.totalCount>0}},[t._v("¥ "+t._s(t.totalPrice))]),e("div",{staticClass:"desc"},[t._v("另需配送费 ¥ "+t._s(t.deliveryPrice)+"元")])]),e("div",{staticClass:"content-right",class:t.payClass,on:{click:function(s){return s.stopPropagation(),t.pay(s)}}},[t._v(t._s(t.payDesc))])])],1),e("div",{directives:[{name:"show",rawName:"v-show",value:t.isShowCart,expression:"isShowCart"}],staticClass:"filter",on:{click:t.showCart}})])}),V=[],Z=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"cartcontrol"},[e("transition",{attrs:{name:"move"}},[e("div",{directives:[{name:"show",rawName:"v-show",value:t.food.count>0,expression:"food.count>0"}],staticClass:"decrease",on:{click:function(s){return s.stopPropagation(),t.decreaseCart(s)}}},[e("i",{staticClass:"icon-remove_circle_outline cart-icon"})])]),e("span",{directives:[{name:"show",rawName:"v-show",value:t.food.count>0,expression:"food.count>0"}],staticClass:"count"},[t._v(t._s(t.food.count))]),e("div",{staticClass:"add",on:{click:function(s){return s.stopPropagation(),t.addCart(s)}}},[e("i",{staticClass:"icon-add_circle cart-icon"})]),e("div",{staticClass:"ball-container"},t._l(t.balls,function(t,s){return e("transition",{directives:[{name:"show",rawName:"v-show",value:t.show,expression:"ball.show"}],key:s,staticClass:"ball",attrs:{name:"drop"}},[e("div",{staticClass:"inner"})])}),1)],1)},tt=[],st={props:{food:{type:Object,default:function(){return{count:0}}}},data:function(){return{balls:[{show:!1},{show:!1},{show:!1},{show:!1},{show:!1}]}},methods:{decreaseCart:function(t){t._constructed&&this.$emit("decrease",this.food)},addCart:function(t){t._constructed&&(this.$emit("add",this.food),this.$emit("ballDrop",t.target))}}},et=st,it=(e("d4da"),Object(f["a"])(et,Z,tt,!1,null,null,null)),at=it.exports,nt={data:function(){return{fold:!0}},props:{deliveryPrice:{type:Number,default:0},minPrice:{type:Number,default:0},selectedFoods:{type:Array,default:function(){return[]}}},components:{"v-cartcontrol":at},methods:{clear:function(){this.$emit("clear")},decrease:function(t){this.$emit("decrease",t)},add:function(t){this.$emit("add",t)},showCart:function(){this.totalCount&&(this.fold=!this.fold)},pay:function(){this.minPrice>this.totalPrice||window.alert("需要支付".concat(this.totalPrice,"元"))}},computed:{totalPrice:function(){var t=0;return this.selectedFoods.forEach(function(s){t+=s.price*s.count}),t},totalCount:function(){var t=0;return this.selectedFoods.forEach(function(s){t+=s.count}),t},payDesc:function(){var t=this.totalPrice,s=this.minPrice;return 0===this.totalPrice?"¥ ".concat(s,"起送"):t<s?"还差¥ ".concat(s-t,"起送"):t>=s?"去结算":void 0},payClass:function(){return this.totalPrice>=this.minPrice?"enough":"not-enough"},isShowCart:function(){var t=this;if(!this.totalCount)return this.fold=!0,!1;var s=!this.fold;return s&&this.$nextTick(function(){t.scroll?t.scroll.refresh():t.scroll=new W["a"](t.$refs.foodsScroll,{click:!0})}),s}}},ot=nt,rt=(e("8300"),Object(f["a"])(ot,U,V,!1,null,null,null)),ct=rt.exports,lt=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("transition",{attrs:{name:"move"}},[e("div",{directives:[{name:"show",rawName:"v-show",value:t.foodShow,expression:"foodShow"}],ref:"food",staticClass:"food"},[e("div",[e("div",{staticClass:"description"},[e("div",{staticClass:"image-head"},[e("img",{staticClass:"image",attrs:{src:t.food.image}}),e("i",{staticClass:"icon-arrow_lift",on:{click:t.showFood}})]),e("div",{staticClass:"food-description"},[e("div",{staticClass:"name"},[t._v(t._s(t.food.name))]),e("div",{staticClass:"detail"},[e("span",{staticClass:"sell-count"},[t._v("月售"+t._s(t.food.sellCount)+"份")]),e("span",{staticClass:"rating"},[t._v("好评率"+t._s(t.food.rating)+"%")])]),e("div",{staticClass:"price"},[e("span",{staticClass:"mark"},[t._v("¥")]),e("span",{staticClass:"now"},[t._v(t._s(t.food.price))]),t.food.oldPrice?e("span",{staticClass:"old"},[t._v("¥"+t._s(t.food.oldPrice))]):t._e()]),e("div",{staticClass:"cartcontrol-wrapper"},[e("div",{directives:[{name:"show",rawName:"v-show",value:!t.food.count||0===t.food.count,expression:"!food.count||food.count===0"}],staticClass:"add-cart",on:{click:t.addFirst}},[t._v("加入购物车")]),e("v-cartcontrol",{directives:[{name:"show",rawName:"v-show",value:t.food.count,expression:"food.count"}],attrs:{food:t.food},on:{decrease:t.decrease,add:t.add}})],1)])]),e("v-split"),e("div",{directives:[{name:"show",rawName:"v-show",value:t.food.info,expression:"food.info"}],staticClass:"info"},[e("div",{staticClass:"title"},[t._v("商品介绍")]),e("div",{staticClass:"content"},[t._v(t._s(t.food.info))])]),e("v-split",{directives:[{name:"show",rawName:"v-show",value:t.food.info,expression:"food.info"}]}),e("div",{staticClass:"ratings"},[e("div",{staticClass:"title"},[t._v("商品评价")]),e("v-ratingSelect",{attrs:{ratings:t.food.ratings,desc:t.desc},on:{contentOnly:t.toggleContent,selectType:t.select}}),e("div",{directives:[{name:"show",rawName:"v-show",value:t.food.ratings&&t.food.ratings.length,expression:"food.ratings && food.ratings.length"}],staticClass:"ratings-list"},t._l(t.food.ratings,function(s,i){return e("div",{directives:[{name:"show",rawName:"v-show",value:t.needShow(s.rateType,s.text),expression:"needShow(rating.rateType,rating.text)"}],key:i,staticClass:"rating-item border-1px"},[e("div",{staticClass:"time-user"},[e("span",{staticClass:"time"},[t._v(t._s(t.rateTime(s.rateTime)))]),e("div",{staticClass:"user"},[e("span",{staticClass:"username"},[t._v(t._s(s.username))]),e("img",{staticClass:"avatar",attrs:{src:s.avatar}})])]),e("div",{staticClass:"content"},[e("i",{staticClass:"type",class:t.ratingTypeMap[s.rateType]}),e("span",{staticClass:"text"},[t._v(t._s(s.text))])])])}),0),e("div",{directives:[{name:"show",rawName:"v-show",value:!t.food.ratings||!t.food.ratings.length,expression:"!food.ratings || !food.ratings.length"}],staticClass:"no-rating"},[t._v("暂无评价")])],1)],1)])])},dt=[],ut=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"rating-select"},[e("div",{staticClass:"rateType border-1px"},[e("span",{staticClass:"positive",class:{active:"2"==t.selectType},on:{click:function(s){return t.select(2)}}},[t._v("\n      "+t._s(t.desc.all)+"\n      "),e("span",{staticClass:"ratings-num"},[t._v(t._s(t.ratings?t.ratings.length:"0"))])]),e("span",{staticClass:"positive",class:{active:"0"==t.selectType},on:{click:function(s){return t.select(0)}}},[t._v("\n      "+t._s(t.desc.positive)+"\n      "),e("span",{staticClass:"ratings-num"},[t._v(t._s(t.positives?t.positives.length:"0"))])]),e("span",{staticClass:"negative",class:{active:"1"==t.selectType},on:{click:function(s){return t.select(1)}}},[t._v("\n      "+t._s(t.desc.negative)+"\n      "),e("span",{staticClass:"ratings-num"},[t._v(t._s(t.negatives?t.negatives.length:"0"))])])]),e("div",{staticClass:"switch",on:{click:t.toggleContent}},[e("i",{staticClass:"icon-check_circle",class:{on:t.onlyContent}}),e("span",{staticClass:"selectedRatings"},[t._v("只看有内容的评价")])])])},vt=[],pt={data:function(){return{onlyContent:!1,selectType:2}},props:{ratings:Array,desc:{type:Object,default:function(){return{all:"全部",positive:"满意",negative:"不满意"}}}},computed:{positives:function(){if(this.ratings)return this.ratings.filter(function(t){return 0==t.rateType})},negatives:function(){if(this.ratings)return this.ratings.filter(function(t){return 1==t.rateType})}},methods:{toggleContent:function(){this.onlyContent=!this.onlyContent,this.$emit("contentOnly",this.onlyContent)},select:function(t){this.selectType=t,this.$emit("selectType",t)}},components:{}},ft=pt,ht=(e("b7f1"),Object(f["a"])(ft,ut,vt,!1,null,null,null)),Ct=ht.exports,mt=e("8b55"),_t={props:{food:Object},data:function(){return{foodShow:!1,ratingTypeMap:["icon-thumb_up","icon-thumb_down"],desc:{all:"全部",positive:"推荐",negative:"吐槽"},contentOnly:!1,selectType:2}},methods:{showFood:function(){var t=this;this.foodShow=!this.foodShow,this.$nextTick(function(){t.scroll?t.scroll.refresh():t.scroll=new W["a"](t.$refs.food,{click:!0})})},needShow:function(t,s){return!(this.contentOnly&&!s)&&(this.selectType==t||2==this.selectType)},toggleContent:function(t){this.contentOnly=t},select:function(t){this.selectType=t},rateTime:function(t){return Object(mt["timeStamp"])(t)},add:function(){this.$emit("add",this.food)},addFirst:function(){this.$emit("add",this.food)},decrease:function(){this.$emit("decrease",this.food)}},components:{"v-cartcontrol":at,"v-ratingSelect":Ct,"v-split":J}},gt=_t,wt=(e("ad18"),Object(f["a"])(gt,lt,dt,!1,null,null,null)),yt=wt.exports,bt={data:function(){return{goods:[],classMap:["decrease","discount","guarantee","invoice","special"],listHeight:[0],scrollY:0,choosedFood:{}}},props:{seller:Object},components:{"v-shopcart":ct,"v-cartcontrol":at,"v-food":yt,"v-support":b},computed:{currentIndex:function(){for(var t=0;t<this.listHeight.length;t++)if(!this.listHeight[t+1]||this.scrollY>=this.listHeight[t]&&this.scrollY<this.listHeight[t+1])return t;return 0},selectedFoods:function(){for(var t=[],s=0;s<this.goods.length;s++)for(var e=0;e<this.goods[s].foods.length;e++){var i=this.goods[s].foods[e];i.count>0&&t.push(i)}return t}},created:function(){this.get()},methods:{get:function(){var t=this;this.$http.get("/api/goods").then(function(s){t.goods=s.body,t.$nextTick(function(){t._initScroll(),t._calculateHeight()})},function(){console.log("无法获取商品数据")})},selectMenu:function(t,s){if(s._constructed){var e=this.$refs.foodsWrapper.getElementsByClassName("food-list-hook"),i=e[t];this.foodsScroll.scrollToElement(i,300)}},decrease:function(t){this.goods.forEach(function(s){return s.foods.forEach(function(s){s===t&&s.count&&(s.count-=1)})})},add:function(t){var s=this;this.goods.forEach(function(e){return e.foods.forEach(function(e){e===t&&(e.count?e.count+=1:s.$set(e,"count",1))})})},ballDrop:function(t){this._drop(t)},clear:function(){this.goods.forEach(function(t){return t.foods.forEach(function(t){t.count=0})})},showFood:function(t){this.$refs.food.showFood(),this.choosedFood=t},_drop:function(){},_initScroll:function(){var t=this;this.menuScroll=new W["a"](this.$refs.menuWrapper,{click:!0}),this.foodsScroll=new W["a"](this.$refs.foodsWrapper,{click:!0,probeType:3}),this.foodsScroll.on("scroll",function(s){t.scrollY=Math.abs(Math.round(s.y))})},_calculateHeight:function(){for(var t=this.$refs.foodsWrapper.getElementsByClassName("food-list-hook"),s=0,e=0;e<t.length;e++)this.listHeight.push(s+=t[e].clientHeight)}}},xt=bt,kt=(e("61e8"),Object(f["a"])(xt,K,Q,!1,null,null,null)),Tt=kt.exports,St=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{ref:"ratings",staticClass:"ratings-wrapper"},[e("div",[e("div",{staticClass:"overview"},[e("div",{staticClass:"overview-left"},[e("div",{staticClass:"score"},[t._v(t._s(t.seller.score))]),e("div",{staticClass:"text"},[t._v("综合评分")]),e("div",{staticClass:"rankRate"},[t._v("高于周边商家"+t._s(t.seller.rankRate)+"%")])]),e("div",{staticClass:"overview-right"},[e("div",{staticClass:"item"},[t._v("服务态度\n          "),e("v-star",{attrs:{size:36,score:t.seller.serviceScore}}),e("span",{staticClass:"score"},[t._v(t._s(t.seller.serviceScore))])],1),e("div",{staticClass:"item"},[t._v("商品评分"),e("v-star",{attrs:{size:36,score:t.seller.foodScore}}),e("span",{staticClass:"score"},[t._v(t._s(t.seller.foodScore))])],1),e("div",{staticClass:"item"},[t._v("送达时间\n          "),e("span",{staticClass:"text"},[t._v(t._s(t.seller.deliveryTime)+"分钟")])])])]),e("v-split"),e("div",{staticClass:"ratings-content"},[e("v-ratingSelect",{attrs:{ratings:t.ratings},on:{contentOnly:t.toggleContent,selectType:t.select}}),e("div",{staticClass:"rating-list"},t._l(t.ratings,function(s,i){return e("div",{directives:[{name:"show",rawName:"v-show",value:t.needShow(s.rateType,s.text),expression:"needShow(item.rateType,item.text)"}],key:i,staticClass:"item border-1px"},[e("img",{staticClass:"avatar",attrs:{src:s.avatar}}),e("div",{staticClass:"content"},[e("div",{staticClass:"username-time"},[e("span",{staticClass:"username"},[t._v(t._s(s.username))]),e("span",{staticClass:"time"},[t._v(t._s(t.rateTime(s.rateTime)))])]),e("div",{staticClass:"score"},[e("v-star",{attrs:{size:24,score:s.score}}),e("span",{directives:[{name:"show",rawName:"v-show",value:s.deliveryTime,expression:"item.deliveryTime"}],staticClass:"deliveryTime"},[t._v(t._s(s.deliveryTime)+"分钟送达")])],1),e("div",{staticClass:"text"},[t._v(t._s(s.text))]),e("div",{directives:[{name:"show",rawName:"v-show",value:0!==s.recommend.length,expression:"item.recommend.length!==0"}],staticClass:"recommend"},[e("i",{staticClass:"thumpType",class:t.ratingTypeMap[s.rateType]}),t._l(s.recommend,function(s,i){return e("span",{key:i,staticClass:"recommend-item"},[t._v(t._s(s))])})],2)])])}),0)],1)],1)])},$t=[],Ot={data:function(){return{ratings:[],ratingTypeMap:["icon-thumb_up","icon-thumb_down"],contentOnly:!1,selectType:2}},computed:{ratingsContentOnly:function(){return this.ratings.filter(function(t){return""!==t.text})}},props:{seller:Object},created:function(){var t=this;this.$http.get("/api/ratings").then(function(s){t.ratings=s.body,t.$nextTick(function(){t.scroll?t.scroll.refresh():t.scroll=new W["a"](t.$refs.ratings,{click:!0})})})},methods:{rateTime:function(t){return Object(mt["timeStamp"])(t)},toggleContent:function(t){this.contentOnly=t},select:function(t){this.selectType=t},needShow:function(t,s){return!(this.contentOnly&&!s)&&(this.selectType==t||2==this.selectType)}},components:{"v-star":C,"v-split":J,"v-ratingSelect":Ct}},Pt=Ot,jt=(e("6764"),Object(f["a"])(Pt,St,$t,!1,null,null,null)),Nt=jt.exports;i["a"].use(D["a"]);var Et=new D["a"]({routes:[{path:"/",redirect:"/ratings"},{path:"/seller",name:"seller",component:G},{path:"/goods",name:"goods",component:Tt},{path:"/ratings",name:"ratings",component:Nt}]}),Mt=(e("f867"),e("28dd"));i["a"].use(Mt["a"]),i["a"].config.productionTip=!1,new i["a"]({router:Et,render:function(t){return t(F)}}).$mount("#app")},"5cdc":function(t,s,e){"use strict";var i=e("5354"),a=e.n(i);a.a},"60cb":function(t,s,e){},"61e8":function(t,s,e){"use strict";var i=e("3dec"),a=e.n(i);a.a},6764:function(t,s,e){"use strict";var i=e("a859"),a=e.n(i);a.a},"6a54":function(t,s,e){"use strict";var i=e("60cb"),a=e.n(i);a.a},"743c":function(t,s,e){"use strict";var i=e("f0c2"),a=e.n(i);a.a},8300:function(t,s,e){"use strict";var i=e("9b62"),a=e.n(i);a.a},8916:function(t,s,e){"use strict";var i=e("c8a1"),a=e.n(i);a.a},"8b55":function(t,s){function e(t){var s=new Date(t),e=s.toLocaleString();return e}Date.prototype.toLocaleString=function(){var t=this.getMonth()<9?"0"+(this.getMonth()+1):this.getMonth()+1,s=0==this.getMinutes()?"00":this.getMinutes();return this.getFullYear()+"-"+t+"-"+this.getDate()+" "+this.getHours()+":"+s},t.exports={timeStamp:e}},"8d1d":function(t,s,e){},"9b62":function(t,s,e){},a05c:function(t,s,e){"use strict";var i=e("e618"),a=e.n(i);a.a},a859:function(t,s,e){},abde:function(t,s,e){},ad18:function(t,s,e){"use strict";var i=e("0e19"),a=e.n(i);a.a},b7f1:function(t,s,e){"use strict";var i=e("bd40"),a=e.n(i);a.a},bd40:function(t,s,e){},c8a1:function(t,s,e){},d4da:function(t,s,e){"use strict";var i=e("abde"),a=e.n(i);a.a},e618:function(t,s,e){},e936:function(t,s,e){"use strict";var i=e("0361"),a=e.n(i);a.a},f0c2:function(t,s,e){},f867:function(t,s,e){}});
//# sourceMappingURL=app.62e44f4c.js.map